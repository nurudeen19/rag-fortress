# Application Settings
APP_NAME=RAG Fortress
APP_VERSION=1.0.0
DEBUG=True
ENVIRONMENT=development
HOST=0.0.0.0
PORT=8000

# LLM Provider Selection (openai, google, huggingface)
LLM_PROVIDER=openai

# Fallback LLM Configuration (optional - defaults to small HuggingFace model if not set)
# Option 1: Use custom fallback model (recommended)
FALLBACK_LLM_PROVIDER=openai
FALLBACK_LLM_API_KEY=your_api_key_here
FALLBACK_LLM_MODEL=gpt-3.5-turbo
FALLBACK_LLM_TEMPERATURE=0.5
FALLBACK_LLM_MAX_TOKENS=1000

# Option 2: Use provider's default config (omit custom fields above)
# FALLBACK_LLM_PROVIDER=google

# Option 3: Leave empty to use default small HuggingFace model
# (google/flan-t5-small - no API key required if using inference API)

# OpenAI Configuration
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=2000

# Google Configuration
GOOGLE_API_KEY=your_google_api_key_here
GOOGLE_MODEL=gemini-pro
GOOGLE_TEMPERATURE=0.7
GOOGLE_MAX_TOKENS=2000

# HuggingFace Configuration
HF_API_TOKEN=your_huggingface_token_here
HF_MODEL=meta-llama/Llama-2-7b-chat-hf
HF_TEMPERATURE=0.7
HF_MAX_TOKENS=2000

# ============================================================================
# Embedding Provider Configuration
# ============================================================================
# Supported providers: openai, google, huggingface (default), cohere, voyage
EMBEDDING_PROVIDER=huggingface

# OpenAI Embeddings
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
# OPENAI_EMBEDDING_DIMENSIONS=1536  # Optional: for ada-002 or text-embedding-3-*

# Google Embeddings (Vertex AI)
GOOGLE_EMBEDDING_MODEL=gemini-embedding-001
# GOOGLE_EMBEDDING_DIMENSIONS=768  # Optional: 768, 1536, or 3072 (default: 768)
GOOGLE_EMBEDDING_TASK_TYPE=RETRIEVAL_DOCUMENT  # RETRIEVAL_DOCUMENT, RETRIEVAL_QUERY, SEMANTIC_SIMILARITY, etc.

# HuggingFace Embeddings (default - sentence-transformers, no API key needed)
HF_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
HF_EMBEDDING_DEVICE=cpu  # cpu or cuda

# Cohere Embeddings
COHERE_API_KEY=your_cohere_api_key
COHERE_EMBEDDING_MODEL=embed-english-v3.0
COHERE_INPUT_TYPE=search_document  # search_document, search_query, classification, clustering

# Voyage AI Embeddings
VOYAGE_API_KEY=your_voyage_api_key
VOYAGE_EMBEDDING_MODEL=voyage-2

# ============================================================================
# Vector Database Configuration
# ============================================================================
# Supported providers: chroma (local/dev), qdrant, pinecone, weaviate, milvus
# Note: Chroma is NOT allowed in production environments
VECTOR_DB_PROVIDER=chroma

# Qdrant Configuration (recommended for production)
# Local Qdrant
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_GRPC_PORT=6334
QDRANT_PREFER_GRPC=false
QDRANT_COLLECTION_NAME=rag_documents

# Qdrant Cloud (alternative to local)
# QDRANT_URL=https://your-cluster.qdrant.io
# QDRANT_API_KEY=your_qdrant_api_key

# Chroma Configuration (local/development only)
CHROMA_HOST=localhost
CHROMA_PORT=8000
CHROMA_PERSIST_DIRECTORY=./chroma_db
CHROMA_COLLECTION_NAME=rag_documents

# Pinecone Configuration (cloud-based)
PINECONE_API_KEY=your_pinecone_api_key
PINECONE_ENVIRONMENT=us-west1-gcp  # e.g., us-west1-gcp, us-east-1-aws
PINECONE_INDEX_NAME=rag-documents

# Weaviate Configuration
WEAVIATE_URL=http://localhost:8080
# WEAVIATE_API_KEY=your_weaviate_api_key  # Optional for Weaviate Cloud
WEAVIATE_CLASS_NAME=Document

# Milvus Configuration
MILVUS_HOST=localhost
MILVUS_PORT=19530
MILVUS_COLLECTION_NAME=rag_documents
# MILVUS_USER=username  # Optional
# MILVUS_PASSWORD=password  # Optional

# ============================================================================
# ============================================================================
# Database Configuration (User Data & Application Metadata)
# ============================================================================
# Supported providers: postgresql (recommended for production), mysql, sqlite
# Note: SQLite is NOT recommended for production environments
DATABASE_PROVIDER=sqlite

# Unified Database Configuration (PostgreSQL & MySQL)
# These settings are shared between PostgreSQL and MySQL
DB_HOST=localhost
DB_PORT=  # Leave empty for default (5432 for PostgreSQL, 3306 for MySQL)
DB_USER=rag_fortress
DB_PASSWORD=your_secure_password
DB_NAME=rag_fortress

# PostgreSQL-Specific Configuration
POSTGRES_SSL_MODE=prefer  # disable, allow, prefer, require, verify-ca, verify-full

# MySQL-Specific Configuration
MYSQL_CHARSET=utf8mb4

# SQLite Configuration (Development/Testing only)
SQLITE_PATH=./rag_fortress.db
SQLITE_CHECK_SAME_THREAD=False

# Connection Pool Settings (PostgreSQL & MySQL)
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600
DB_ECHO=False  # Set to True to log SQL queries (useful for debugging)

# Migration Settings
DB_AUTO_MIGRATE=False  # Automatically run migrations on startup
DB_DROP_ALL=False  # DANGER: Drop all tables on startup (development only!)

# ============================================================================
# RAG Configuration
# ============================================================================
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
TOP_K_RESULTS=5
SIMILARITY_THRESHOLD=0.7

# ============================================================================
# Security
# ============================================================================
SECRET_KEY=your_secret_key_here_change_in_production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ============================================================================
# CORS Configuration
# ============================================================================
CORS_ORIGINS=http://localhost:5173,http://localhost:3000
CORS_CREDENTIALS=True
CORS_METHODS=*
CORS_HEADERS=*

# ============================================================================
# Logging Configuration
# ============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
LOG_FILE=logs/rag_fortress.log
LOG_MAX_BYTES=10485760  # 10MB
LOG_BACKUP_COUNT=5
